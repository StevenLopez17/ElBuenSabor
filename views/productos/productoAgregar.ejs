<div class="container-fluid">
    <div class="title-group mb-3 d-flex justify-content-between align-items-center">
      <h1 class="h2 mb-0">Agregar Producto</h1>
      <a href="/producto" class="btn btn-secondary">Regresar</a>
    </div>
  
    <div class="row my-4">
      <div class="col-lg-12 col-12">
        <div class="custom-block bg-white p-4">
          <h6 class="mb-4">Formulario de Registro</h6>
  
                    <!-- Alertas de error -->
          <% if (error === 'camposObligatorios') { %>
            <div class="alert alert-warning text-center">
              Por favor complete todos los campos obligatorios.
            </div>
          <% } %>

          <% if (error === 'formulacionInvalida') { %>
            <div class="alert alert-danger text-center">
              La formulaci칩n seleccionada no es v치lida.
            </div>
          <% } %>

          <% if (stockInsuficiente) { %>
            <div class="alert alert-danger text-center">
              No hay suficiente stock para la materia prima: <strong><%= stockInsuficiente %></strong>.
            </div>
          <% } %>

          <% if (error && error.includes('No hay formulaciones disponibles')) { %>
            <div class="alert alert-warning text-center">
              <strong>Advertencia:</strong> <%= error %>
              <br>
              <a href="/formulaciones" class="btn btn-primary mt-2">Ir a Formulaciones</a>
            </div>
          <% } %>
  
          <form class="custom-form add-employee-form" action="/producto/agregar" method="POST" role="form">
            <div class="mb-3">
              <label for="nombre">Nombre del Producto</label>
              <input class="form-control" type="text" name="nombre" id="nombre" placeholder="Nombre" required>
            </div>
  
            <div class="mb-3">
              <label for="precio">Precio</label>
              <input class="form-control" type="number" name="precio" id="precio" placeholder="Precio" step="0.01">
            </div>
  
            <div class="mb-3">
              <label for="stock">Stock</label>
              <input class="form-control" type="number" name="stock" id="stock" placeholder="Cantidad en inventario">
            </div>
  
            <div class="mb-3">
              <label for="formulaciones_id">Formulaci칩n</label>
              <select class="form-control" name="formulaciones_id" id="formulaciones_id" required>
                <option value="" disabled selected>Seleccione una formulaci칩n</option>
                <% formulaciones.forEach(f => { %>
                  <option value="<%= f.id %>"><%= f.nombre %></option>
                <% }) %>
              </select>
            </div>
  
            <div class="mt-4">
                <button type="submit" class="btn" style="background-color: #96C700; color: white;">Guardar Producto</button>
              <a href="/producto" class="btn btn-secondary">Cancelar</a>
            </div>
          </form>
  
        </div>
      </div>
    </div>
  </div>
  